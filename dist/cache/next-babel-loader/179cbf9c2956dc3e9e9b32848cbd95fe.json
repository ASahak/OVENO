{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) {\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n    if (_Reflect$construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(_Reflect$construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nimport React from 'react';\nimport Slider from \"react-slick\";\nimport classes from './hot-seller.scss';\nimport Badge from './elements/Badge';\nimport axios from \"lib/axiosEnv\";\nimport { connect } from \"react-redux\";\n\nvar SampleNextArrow = function SampleNextArrow(props) {\n  var onClick = props.onClick;\n  return __jsx(\"span\", {\n    className: \"lnr lnr-chevron-right\",\n    onClick: onClick\n  });\n};\n\nvar SamplePrevArrow = function SamplePrevArrow(props) {\n  var onClick = props.onClick;\n  return __jsx(\"span\", {\n    className: \"lnr lnr-chevron-left\",\n    onClick: onClick\n  });\n};\n\nvar HotSellers =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HotSellers, _React$Component);\n\n  var _super = _createSuper(HotSellers);\n\n  function HotSellers(props) {\n    var _this;\n\n    _classCallCheck(this, HotSellers);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _ref2, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get('/api/products/getRandom', {\n                params: {\n                  count: 6\n                }\n              });\n\n            case 2:\n              _ref2 = _context.sent;\n              data = _ref2.data;\n              if (data.error) console.error(data.error);else {\n                _this.setState({\n                  hotSeller: data.products\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _this.state = {\n      hotSeller: []\n    };\n    _this.params = {\n      speed: 500,\n      autoplay: false,\n      autoplaySpeed: 4000,\n      pauseOnHover: true,\n      slidesToShow: 5,\n      slidesToScroll: 1,\n      nextArrow: __jsx(SampleNextArrow, null),\n      prevArrow: __jsx(SamplePrevArrow, null),\n      responsive: [{\n        breakpoint: 1024,\n        settings: {\n          slidesToShow: 4\n        }\n      }, {\n        breakpoint: 991,\n        settings: {\n          slidesToShow: 3\n        }\n      }, {\n        breakpoint: 767,\n        settings: {\n          slidesToShow: 3\n        }\n      }, {\n        breakpoint: 576,\n        settings: {\n          slidesToShow: 2\n        }\n      }, {\n        breakpoint: 480,\n        settings: {\n          slidesToShow: 1\n        }\n      }]\n    };\n    _this.isAdmin = _this.isAdmin.bind(_assertThisInitialized(_this));\n    _this.isUser = _this.isUser.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(HotSellers, [{\n    key: \"isAdmin\",\n    value: function isAdmin() {\n      return this.props.isUser && this.props.isUser.roleType === 'admin';\n    }\n  }, {\n    key: \"isUser\",\n    value: function isUser() {\n      return this.props.isUser && this.props.isUser.roleType === 'user';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", {\n        className: classes['slider-container']\n      }, __jsx(\"div\", {\n        className: classes['slider-container_title']\n      }, __jsx(\"h2\", null, \"Hot Sale\")), __jsx(Slider, _extends({}, this.params, {\n        className: classes['slick-slider-main']\n      }), this.state.hotSeller.map(function (slide) {\n        return __jsx(Badge, {\n          isAdmin: _this2.isAdmin(),\n          isUser: _this2.isUser(),\n          noAccessAdmin: true,\n          mainData: slide,\n          key: slide._id\n        });\n      })));\n    }\n  }]);\n\n  return HotSellers;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isUser: state.auth.user\n  };\n};\n\nvar mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(HotSellers);","map":null,"metadata":{},"sourceType":"module"}