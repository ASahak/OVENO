{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) {\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n    if (_Reflect$construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(_Reflect$construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nimport React from 'react';\nimport classes from './home-slider.scss';\n\nvar HomeSlider =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HomeSlider, _React$Component);\n\n  var _super = _createSuper(HomeSlider);\n\n  function HomeSlider(props) {\n    var _this;\n\n    _classCallCheck(this, HomeSlider);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      timer: 0,\n      activeIndex: 0,\n      dotsCount: null,\n      styleWrapper: {}\n    };\n    _this.images = ['slider1', 'slider2', 'slider3'];\n    _this._slide = _this._slide.bind(_assertThisInitialized(_this));\n    _this.touchStart = _this.touchStart.bind(_assertThisInitialized(_this));\n    _this.touchMove = _this.touchMove.bind(_assertThisInitialized(_this));\n    _this.touchEnd = _this.touchEnd.bind(_assertThisInitialized(_this));\n    _this.getSliderPosition = _this.getSliderPosition.bind(_assertThisInitialized(_this));\n    _this.slider = React.createRef();\n    _this.svg = React.createRef();\n    _this.autoPlayInterval = null;\n    _this.progressSpinner = null;\n    _this.touchX = 0;\n    return _this;\n  }\n\n  _createClass(HomeSlider, [{\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      if (this.props.dots) {\n        this.setState({\n          dotsCount: this.images.length\n        });\n      }\n\n      this.setState({\n        styleWrapper: {\n          'transform': 'translate3d(0px, 0px, 0px)'\n        }\n      });\n    }\n  }, {\n    key: \"handleVisibilityChange\",\n    value: function handleVisibilityChange(hidden) {\n      if (document[hidden]) {\n        clearInterval(this.progressSpinner);\n        clearInterval(this.autoPlayInterval);\n      } else {\n        clearInterval(this.progressSpinner);\n        clearInterval(this.autoPlayInterval);\n        this.IntervalProgress();\n        this.AutoPlayWithTimer(this.state.timer);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var hidden, visibilityChange;\n\n      if (typeof document.hidden !== 'undefined') {\n        // Opera 12.10 and Firefox 18 and later support\n        hidden = 'hidden';\n        visibilityChange = 'visibilitychange';\n      } else if (typeof document.msHidden !== 'undefined') {\n        hidden = 'msHidden';\n        visibilityChange = 'msvisibilitychange';\n      } else if (typeof document.webkitHidden !== 'undefined') {\n        hidden = 'webkitHidden';\n        visibilityChange = 'webkitvisibilitychange';\n      }\n\n      if (typeof document.addEventListener === 'undefined' || hidden === undefined) {\n        console.log('This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.');\n      } else {\n        // Handle page visibility change\n        document.addEventListener(visibilityChange, this.handleVisibilityChange.bind(this, hidden), false);\n      } // AutoPlay\n\n\n      if (this.props.autoplay) {\n        var timer = this.props.timer || 3000;\n        this.setState({\n          timer: timer\n        }, function () {\n          _this2.IntervalProgress();\n\n          _this2.AutoPlayWithTimer(timer);\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.autoPlayInterval);\n      clearInterval(this.progressSpinner);\n    }\n  }, {\n    key: \"touchStart\",\n    value: function touchStart(event) {\n      this.touchX = event.touches[0].pageX;\n    }\n  }, {\n    key: \"touchMove\",\n    value: function touchMove(event) {\n      clearInterval(this.progressSpinner);\n      clearInterval(this.autoPlayInterval);\n      this.getSliderPosition('touchMove', event.touches[0].pageX);\n    }\n  }, {\n    key: \"touchEnd\",\n    value: function touchEnd(event) {\n      clearInterval(this.progressSpinner);\n      clearInterval(this.autoPlayInterval);\n      this.getSliderPosition('touchEnd', event.changedTouches[0].pageX);\n    }\n  }, {\n    key: \"IntervalProgress\",\n    value: function IntervalProgress() {\n      var _this3 = this;\n\n      var percentage = 0;\n      clearInterval(this.progressSpinner);\n      this.progressSpinner = setInterval(function () {\n        if (_this3.svg.current && percentage < 100) {\n          percentage += 1;\n          _this3.svg.current.style.background = 'conic-gradient(#f01b48 ' + percentage + '%, 0, #f4f4f4 66%)';\n        }\n      }, this.state.timer / 100);\n    }\n  }, {\n    key: \"AutoPlayWithTimer\",\n    value: function AutoPlayWithTimer(timer) {\n      var _this4 = this;\n\n      this.autoPlayInterval = setInterval(function () {\n        _this4.IntervalProgress();\n\n        var _activeIndex = _this4.state.activeIndex;\n        if (_activeIndex === _this4.state.dotsCount - 1) _activeIndex = 0;else _activeIndex++;\n\n        _this4.setState({\n          activeIndex: _activeIndex\n        }, function () {\n          _this4.getSliderPosition();\n        });\n      }, timer);\n    }\n  }, {\n    key: \"Slide\",\n    value: function Slide(name, index) {\n      return __jsx(\"div\", {\n        key: index,\n        className: classes['main-slider__slide']\n      }, __jsx(\"img\", {\n        src: require('../../../assets/images/global/' + name + '.jpg'),\n        alt: \"\"\n      }));\n    }\n  }, {\n    key: \"_slide\",\n    value: function _slide(index) {\n      var _this5 = this;\n\n      if (index !== this.state.activeIndex) {\n        clearInterval(this.progressSpinner);\n        this.IntervalProgress();\n        clearInterval(this.autoPlayInterval);\n        this.setState({\n          activeIndex: index\n        }, function () {\n          _this5.getSliderPosition();\n\n          _this5.IntervalProgress();\n\n          _this5.props.autoplay && _this5.AutoPlayWithTimer(_this5.state.timer);\n        });\n      }\n    }\n  }, {\n    key: \"getSliderPosition\",\n    value: function getSliderPosition(type, touchX) {\n      var _this6 = this;\n\n      var widthSlider = this.slider.current && this.slider.current.getBoundingClientRect().width || 0;\n\n      if (type === 'touchMove') {\n        this.setState({\n          styleWrapper: {\n            'transition': '0s',\n            'transform': 'translate3d(' + -(this.touchX - touchX + widthSlider * this.state.activeIndex) + 'px, 0px, 0px)'\n          }\n        });\n      } else if (type === 'touchEnd') {\n        if (this.touchX > touchX) {\n          var ind = this.state.activeIndex;\n          if (ind === this.state.dotsCount - 1) ind = this.state.dotsCount - 1;else ind++;\n          this.setState({\n            activeIndex: ind\n          }, function () {\n            _this6.getSliderPosition();\n\n            _this6.IntervalProgress();\n\n            _this6.AutoPlayWithTimer(_this6.state.timer);\n          });\n        } else {\n          var _ind = this.state.activeIndex;\n          if (_ind === 0) _ind = 0;else _ind--;\n          this.setState({\n            activeIndex: _ind\n          }, function () {\n            _this6.getSliderPosition();\n\n            _this6.IntervalProgress();\n\n            _this6.AutoPlayWithTimer(_this6.state.timer);\n          });\n        }\n      } else {\n        this.setState({\n          styleWrapper: {\n            'transform': 'translate3d(' + -(widthSlider * this.state.activeIndex) + 'px, 0px, 0px)'\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var Dots = function Dots() {\n        var dots = Array(_this7.state.dotsCount).fill('').map(function (_, index) {\n          return __jsx(\"span\", {\n            onClick: function onClick() {\n              return _this7._slide(index);\n            },\n            className: \"\".concat(index === _this7.state.activeIndex ? 'active-bullet' : '', \" bullet\"),\n            key: index\n          });\n        });\n        return __jsx(\"div\", {\n          className: \"slider-dots\"\n        }, dots);\n      };\n\n      var Spinner = function Spinner() {\n        return __jsx(\"div\", {\n          className: \"spinner_wrapper\"\n        }, __jsx(\"div\", {\n          className: \"circle\",\n          ref: _this7.svg\n        }));\n      };\n\n      return __jsx(\"div\", {\n        className: classes['main-slider'],\n        ref: this.slider\n      }, __jsx(\"div\", {\n        className: classes['main-slider__container'],\n        onTouchStart: this.touchStart,\n        onTouchMove: this.touchMove,\n        onTouchEnd: this.touchEnd\n      }, this.props.autoplay && __jsx(Spinner, null), __jsx(\"div\", {\n        className: classes['main-slider__wrapper'],\n        style: this.state.styleWrapper\n      }, this.images.map(this.Slide))), this.props.dots && __jsx(Dots, null));\n    }\n  }]);\n\n  return HomeSlider;\n}(React.Component);\n\nexport { HomeSlider as default };","map":{"version":3,"sources":["C:/Users/arthu/OneDrive/Desktop/Important/daser/next/OVENO/components/Home/Slider/home-slider.jsx"],"names":["React","classes","HomeSlider","props","state","timer","activeIndex","dotsCount","styleWrapper","images","_slide","bind","touchStart","touchMove","touchEnd","getSliderPosition","slider","createRef","svg","autoPlayInterval","progressSpinner","touchX","dots","setState","length","hidden","document","clearInterval","IntervalProgress","AutoPlayWithTimer","visibilityChange","msHidden","webkitHidden","addEventListener","undefined","console","log","handleVisibilityChange","autoplay","event","touches","pageX","changedTouches","percentage","setInterval","current","style","background","_activeIndex","name","index","require","type","widthSlider","getBoundingClientRect","width","ind","Dots","Array","fill","map","_","Spinner","Slide","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport classes from './home-slider.scss'\r\n\r\nexport default class HomeSlider extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            timer: 0,\r\n            activeIndex: 0,\r\n            dotsCount: null,\r\n            styleWrapper: {}\r\n        };\r\n        this.images = ['slider1', 'slider2', 'slider3'];\r\n        this._slide = this._slide.bind(this);\r\n        this.touchStart = this.touchStart.bind(this);\r\n        this.touchMove = this.touchMove.bind(this);\r\n        this.touchEnd = this.touchEnd.bind(this);\r\n        this.getSliderPosition = this.getSliderPosition.bind(this);\r\n        this.slider = React.createRef();\r\n        this.svg = React.createRef();\r\n        this.autoPlayInterval = null;\r\n        this.progressSpinner = null;\r\n        this.touchX = 0;\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        if (this.props.dots) {\r\n            this.setState({\r\n                dotsCount: this.images.length\r\n            })\r\n        }\r\n        this.setState({\r\n            styleWrapper: { 'transform': 'translate3d(0px, 0px, 0px)' }\r\n        })\r\n    }\r\n\r\n    handleVisibilityChange(hidden) {\r\n        if (document[hidden]) {\r\n            clearInterval(this.progressSpinner);\r\n            clearInterval(this.autoPlayInterval);\r\n        } else {\r\n            clearInterval(this.progressSpinner);\r\n            clearInterval(this.autoPlayInterval);\r\n            this.IntervalProgress();\r\n            this.AutoPlayWithTimer(this.state.timer);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let hidden, visibilityChange;\r\n        if (typeof document.hidden !== 'undefined') { // Opera 12.10 and Firefox 18 and later support\r\n            hidden = 'hidden';\r\n            visibilityChange = 'visibilitychange';\r\n        } else if (typeof document.msHidden !== 'undefined') {\r\n            hidden = 'msHidden';\r\n            visibilityChange = 'msvisibilitychange';\r\n        } else if (typeof document.webkitHidden !== 'undefined') {\r\n            hidden = 'webkitHidden';\r\n            visibilityChange = 'webkitvisibilitychange';\r\n        }\r\n\r\n        if (typeof document.addEventListener === 'undefined' || hidden === undefined) {\r\n            console.log('This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.');\r\n        } else {\r\n            // Handle page visibility change\r\n            document.addEventListener(visibilityChange, this.handleVisibilityChange.bind(this, hidden), false);\r\n        }\r\n\r\n        // AutoPlay\r\n        if (this.props.autoplay) {\r\n            let timer = this.props.timer || 3000;\r\n            this.setState({\r\n                timer: timer\r\n            }, () => {\r\n                this.IntervalProgress();\r\n                this.AutoPlayWithTimer(timer);\r\n            })\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.autoPlayInterval);\r\n        clearInterval(this.progressSpinner);\r\n    }\r\n\r\n    touchStart(event) {\r\n        this.touchX = event.touches[0].pageX;\r\n    }\r\n\r\n    touchMove(event) {\r\n        clearInterval(this.progressSpinner);\r\n        clearInterval(this.autoPlayInterval);\r\n        this.getSliderPosition('touchMove', event.touches[0].pageX)\r\n    }\r\n\r\n    touchEnd(event) {\r\n        clearInterval(this.progressSpinner);\r\n        clearInterval(this.autoPlayInterval);\r\n        this.getSliderPosition('touchEnd', event.changedTouches[0].pageX)\r\n    }\r\n\r\n    IntervalProgress() {\r\n        let percentage = 0;\r\n        clearInterval(this.progressSpinner);\r\n        this.progressSpinner = setInterval(() => {\r\n            if (this.svg.current && percentage < 100) {\r\n                percentage += 1;\r\n                this.svg.current.style.background = 'conic-gradient(#f01b48 ' + percentage + '%, 0, #f4f4f4 66%)';\r\n            }\r\n        }, this.state.timer / 100)\r\n    }\r\n\r\n    AutoPlayWithTimer(timer) {\r\n        this.autoPlayInterval = setInterval(() => {\r\n            this.IntervalProgress();\r\n            let _activeIndex = this.state.activeIndex;\r\n            if (_activeIndex === this.state.dotsCount - 1) _activeIndex = 0;\r\n            else _activeIndex++;\r\n            this.setState({\r\n                activeIndex: _activeIndex\r\n            }, () => {\r\n                this.getSliderPosition()\r\n            });\r\n        }, timer);\r\n    }\r\n\r\n    Slide(name, index) {\r\n        return (\r\n            <div key={index} className={classes['main-slider__slide']}>\r\n                <img src={require('../../../assets/images/global/' + name + '.jpg')} alt=\"\"/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    _slide(index) {\r\n        if (index !== this.state.activeIndex) {\r\n            clearInterval(this.progressSpinner);\r\n            this.IntervalProgress();\r\n            clearInterval(this.autoPlayInterval);\r\n            this.setState({\r\n                activeIndex: index\r\n            }, () => {\r\n                this.getSliderPosition();\r\n                this.IntervalProgress();\r\n                this.props.autoplay && this.AutoPlayWithTimer(this.state.timer);\r\n            })\r\n        }\r\n    }\r\n\r\n    getSliderPosition(type, touchX) {\r\n        let widthSlider = this.slider.current && this.slider.current.getBoundingClientRect().width || 0;\r\n        if (type === 'touchMove') {\r\n            this.setState({\r\n                styleWrapper: {\r\n                    'transition': '0s',\r\n                    'transform': 'translate3d(' + -(this.touchX - touchX + (widthSlider * this.state.activeIndex)) + 'px, 0px, 0px)'\r\n                }\r\n            })\r\n        } else if (type === 'touchEnd') {\r\n            if (this.touchX > touchX) {\r\n                let ind = this.state.activeIndex;\r\n                if (ind === this.state.dotsCount - 1) ind = this.state.dotsCount - 1;\r\n                else ind++;\r\n                this.setState({\r\n                    activeIndex: ind\r\n                }, () => {\r\n                    this.getSliderPosition();\r\n                    this.IntervalProgress();\r\n                    this.AutoPlayWithTimer(this.state.timer);\r\n                });\r\n            } else {\r\n                let ind = this.state.activeIndex;\r\n                if (ind === 0) ind = 0;\r\n                else ind--;\r\n                this.setState({\r\n                    activeIndex: ind\r\n                }, () => {\r\n                    this.getSliderPosition();\r\n                    this.IntervalProgress();\r\n                    this.AutoPlayWithTimer(this.state.timer);\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                styleWrapper: { 'transform': 'translate3d(' + -(widthSlider * this.state.activeIndex) + 'px, 0px, 0px)' }\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const Dots = () => {\r\n            const dots = Array(this.state.dotsCount).fill('').map((_, index) => {\r\n                return (\r\n                    <span onClick={() => this._slide(index)}\r\n                          className={`${index === this.state.activeIndex ? 'active-bullet' : ''} bullet`}\r\n                          key={index}></span>\r\n                )\r\n            });\r\n            return (\r\n                <div className=\"slider-dots\">\r\n                    {dots}\r\n                </div>\r\n            )\r\n        };\r\n        const Spinner = () => {\r\n            return (\r\n                <div className=\"spinner_wrapper\">\r\n                    <div className=\"circle\" ref={this.svg}></div>\r\n                </div>\r\n            )\r\n        };\r\n        return (\r\n            <div className={classes['main-slider']} ref={this.slider}>\r\n                <div className={classes['main-slider__container']} onTouchStart={this.touchStart}\r\n                     onTouchMove={this.touchMove} onTouchEnd={this.touchEnd}>\r\n                    {(this.props.autoplay) && <Spinner/>}\r\n                    <div className={classes['main-slider__wrapper']} style={this.state.styleWrapper}>\r\n                        {this.images.map(this.Slide)}\r\n                    </div>\r\n                </div>\r\n                {(this.props.dots) && <Dots/>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}