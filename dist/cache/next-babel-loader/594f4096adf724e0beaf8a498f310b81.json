{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Range } from 'rc-slider';\nimport styles from './style.scss';\nimport { Bus } from \"lib/EventEmitter\";\n\nconst RangeSlider = props => {\n  const {\n    min,\n    max,\n    step\n  } = props;\n  const {\n    0: minValue,\n    1: setMinValue\n  } = useState(0);\n  const {\n    0: maxValue,\n    1: setMaxValue\n  } = useState(max);\n  const {\n    0: defaultValues,\n    1: setDefaultValues\n  } = useState([0, 0]);\n  const {\n    0: gettingDefaultValue,\n    1: setGettingDefaultValue\n  } = useState(false);\n\n  const change = data => {\n    setMinValue(data[0]);\n    setMaxValue(data[1]);\n    props.onChange(data);\n    setDefaultValues([0, 0]);\n  };\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    let minPrice = params.get('minPrice');\n    let maxPrice = params.get('maxPrice');\n    setDefaultValues([+minPrice, +maxPrice]);\n    setGettingDefaultValue(true);\n    Bus.subscribe('filterByCategory', reset => {\n      if (reset && reset.searchReset) {\n        props.resetRange();\n      }\n    });\n    return () => {\n      setDefaultValues([0, 0]);\n      setGettingDefaultValue(false);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    className: styles.rangeSlide\n  }, gettingDefaultValue ? __jsx(React.Fragment, null, __jsx(Range, {\n    max: max,\n    min: min,\n    defaultValue: [defaultValues[0] || min, defaultValues[1] || max],\n    step: step,\n    onAfterChange: change\n  }), __jsx(\"div\", {\n    className: styles['min-max_wrap']\n  }, __jsx(\"span\", null, __jsx(\"b\", null, \"Min-\"), \" \", defaultValues[0] || minValue), __jsx(\"span\", null, __jsx(\"b\", null, \"Max-\"), \" \", defaultValues[1] || maxValue))) : '');\n};\n\nRangeSlider.defaultProps = {\n  min: 0,\n  max: BigInt,\n  step: 100\n};\nexport default React.memo(RangeSlider);","map":null,"metadata":{},"sourceType":"module"}