{"ast":null,"code":"var _Date$now = require(\"@babel/runtime-corejs2/core-js/date/now\");\n\nconst axios = require('axios');\n\nconst {\n  getToken,\n  removeCookieByKey\n} = require('../utils/auth');\n\nconst jwtDecode = require('jwt-decode');\n\nconst axiosInstance = axios.create({\n  baseURL: process.env.NODE_ENV !== 'production' ? process.env.CLIENT_URL : process.env.PROD_URL\n});\naxiosInstance.interceptors.request.use(req => {\n  const token = getToken();\n\n  if (token && jwtDecode(token).exp < _Date$now() / 1000) {\n    removeCookieByKey('token');\n    location.href = '/';\n  }\n\n  return req;\n});\nmodule.exports = axiosInstance;","map":null,"metadata":{},"sourceType":"script"}