{"ast":null,"code":"var _Date$now = require(\"@babel/runtime-corejs2/core-js/date/now\");\n\nvar axios = require('axios');\n\nvar _require = require('../utils/auth'),\n    getToken = _require.getToken,\n    removeCookieByKey = _require.removeCookieByKey;\n\nvar jwtDecode = require('jwt-decode');\n\nvar axiosInstance = axios.create({\n  baseURL: process.env.NODE_ENV !== 'production' ? process.env.CLIENT_URL : process.env.PROD_URL\n});\naxiosInstance.interceptors.request.use(function (req) {\n  var token = getToken();\n\n  if (token && jwtDecode(token).exp < _Date$now() / 1000) {\n    removeCookieByKey('token');\n    location.href = '/';\n  }\n\n  return req;\n});\nmodule.exports = axiosInstance;","map":null,"metadata":{},"sourceType":"script"}